<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Bản đồ các tỉnh đã đi</title>
  <script src="https://code.highcharts.com/maps/highmaps.js"></script>
  <script src="https://code.highcharts.com/maps/modules/exporting.js"></script>
  <script src="https://code.highcharts.com/maps/modules/offline-exporting.js"></script>
  <script src="https://code.highcharts.com/mapdata/countries/vn/vn-all.js"></script>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; }
    #container { height: 600px; max-width: 900px; margin: auto; }
    .note { margin-top: 10px; color: #555; }
  </style>
</head>
<body>

<h2>Bản đồ Việt Nam - Các tỉnh đã đi qua</h2>
<div id="container"></div>
<p class="note">Click vào tỉnh để đánh dấu hoặc bỏ đánh dấu. Tải ảnh bản đồ bằng nút "Download PNG".</p>

<script>
document.addEventListener('DOMContentLoaded', function () {
    const provinces = Highcharts.maps['countries/vn/vn-all'].features.map(f => ({
        'hc-key': f.properties['hc-key'],
        value: 0 // 0 = chưa đi (xám), 1 = đã đi (màu)
    }));

    Highcharts.mapChart('container', {
        chart: {
            map: 'countries/vn/vn-all'
        },
        title: {
            text: ''
        },
        mapNavigation: {
            enabled: true,
            buttonOptions: { verticalAlign: 'bottom' }
        },
        exporting: {
            enabled: true
        },
        colorAxis: {
            dataClasses: [{
                from: 0, to: 0, color: '#cccccc', name: 'Chưa đi'
            }, {
                from: 1, to: 1, color: '#ff6666', name: 'Đã đi'
            }]
        },
        series: [{
            data: provinces,
            name: 'Tỉnh/Thành',
            states: {
                hover: { color: '#ffcc00' }
            },
            dataLabels: {
                enabled: false
            },
            point: {
                events: {
                    click: function () {
                        this.value = this.value === 1 ? 0 : 1;
                        this.update({ value: this.value });
                    }
                }
            }
        }]
    });
});
</script>

</body>
</html>
